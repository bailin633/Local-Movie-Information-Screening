# 设置页面修复测试指南

## 🧪 测试概览

本指南用于验证设置页面"常规选项"标签页的所有修复功能是否正常工作。

## 📋 测试清单

### 1. 基础功能测试

#### 应用启动测试
- [ ] 应用能正常启动
- [ ] 主窗口正确显示
- [ ] 设置按钮可点击

#### 设置窗口测试
- [ ] 点击设置按钮能打开设置窗口
- [ ] 设置窗口显示正常
- [ ] "常规设置"标签页默认激活

### 2. 浏览按钮修复测试

#### 基本浏览功能
- [ ] 点击"浏览"按钮不会导致应用卡死
- [ ] 文件对话框正常打开
- [ ] 可以选择目录并确认
- [ ] 选择的路径正确显示在输入框中

#### 加载状态指示
- [ ] 点击浏览按钮时显示"浏览中..."
- [ ] 按钮在操作期间被禁用
- [ ] 操作完成后按钮恢复正常状态

#### 错误处理测试
- [ ] 取消选择不会产生错误
- [ ] 选择无效路径时显示错误提示
- [ ] 权限不足时显示相应提示

### 3. 路径验证功能测试

#### 实时验证
- [ ] 在路径输入框中输入有效路径显示绿色边框
- [ ] 输入无效路径显示红色边框
- [ ] 验证有适当的延迟（避免频繁调用）

#### 路径格式支持
- [ ] 支持Windows路径格式 (C:\Users\...)
- [ ] 支持相对路径
- [ ] 支持网络路径（如果适用）

### 4. 最近路径功能测试

#### 路径历史记录
- [ ] 选择新路径后自动添加到最近路径
- [ ] 最近路径列表正确显示
- [ ] 路径过长时正确截断显示
- [ ] 鼠标悬停显示完整路径

#### 路径操作
- [ ] 点击"选择"按钮能设置对应路径
- [ ] 点击"×"按钮能删除单个路径
- [ ] "清除历史"按钮能清空所有路径
- [ ] 操作后显示相应的状态消息

### 5. 自动刷新功能测试

#### 启用/禁用功能
- [ ] 勾选"自动刷新列表"显示启用消息
- [ ] 取消勾选显示禁用消息
- [ ] 设置正确保存到配置文件

#### 文件监控测试
- [ ] 启用自动刷新后开始监控默认目录
- [ ] 在监控目录中添加视频文件能检测到变化
- [ ] 删除视频文件能检测到变化
- [ ] 禁用自动刷新后停止监控

### 6. 文件管理选项测试

#### 按元数据整理
- [ ] 勾选"按元数据信息整理"显示启用消息
- [ ] 取消勾选显示禁用消息
- [ ] 设置正确保存

#### 设置持久化
- [ ] 所有设置更改后显示"未保存"状态
- [ ] 点击"保存设置"成功保存
- [ ] 重新打开设置页面设置正确加载

### 7. 用户体验测试

#### 状态消息
- [ ] 操作成功时显示绿色成功消息
- [ ] 操作失败时显示红色错误消息
- [ ] 信息提示显示蓝色消息
- [ ] 消息3秒后自动清除

#### 视觉反馈
- [ ] 按钮悬停效果正常
- [ ] 输入框焦点状态正常
- [ ] 最近路径项悬停效果正常
- [ ] 加载动画正常显示

### 8. 错误场景测试

#### 路径相关错误
- [ ] 输入不存在的路径显示错误
- [ ] 输入文件路径（非目录）显示错误
- [ ] 输入无权限访问的路径显示错误
- [ ] 输入空路径正确处理

#### 网络和权限错误
- [ ] 网络断开时的错误处理
- [ ] 磁盘空间不足时的错误处理
- [ ] 文件被占用时的错误处理

### 9. 性能测试

#### 响应性测试
- [ ] 浏览按钮点击响应时间 < 1秒
- [ ] 路径验证响应时间 < 500ms
- [ ] 设置保存响应时间 < 2秒
- [ ] UI操作无明显卡顿

#### 内存使用
- [ ] 长时间使用无内存泄漏
- [ ] 文件监控不会过度消耗资源
- [ ] 设置窗口关闭后正确释放资源

### 10. 兼容性测试

#### 操作系统兼容性
- [ ] Windows 10/11 正常工作
- [ ] 不同分辨率下显示正常
- [ ] 高DPI显示正常

#### 路径兼容性
- [ ] 中文路径正确处理
- [ ] 特殊字符路径正确处理
- [ ] 长路径正确处理

## 🔧 测试步骤

### 快速测试流程
1. 启动应用
2. 点击设置按钮
3. 在"常规设置"标签页中：
   - 点击"浏览"按钮测试目录选择
   - 在路径输入框中输入不同路径测试验证
   - 测试最近路径的选择和删除
   - 切换自动刷新选项
   - 保存设置并重新打开验证

### 深度测试流程
1. 执行所有基础功能测试
2. 进行各种错误场景测试
3. 测试长时间使用的稳定性
4. 验证设置的持久化
5. 测试不同操作系统的兼容性

## 📊 测试结果记录

### 测试环境
- 操作系统: ___________
- Electron版本: ___________
- Node.js版本: ___________
- 测试日期: ___________

### 发现的问题
| 问题描述 | 严重程度 | 复现步骤 | 状态 |
|---------|---------|---------|------|
|         |         |         |      |

### 测试总结
- [ ] 所有关键功能正常工作
- [ ] 浏览按钮卡死问题已解决
- [ ] 用户体验显著改善
- [ ] 错误处理机制完善
- [ ] 性能表现良好

## 🚀 验收标准

### 必须通过的测试
1. 浏览按钮不会导致应用卡死
2. 路径验证功能正常工作
3. 最近路径功能完整可用
4. 自动刷新功能正确启用/禁用
5. 所有设置能正确保存和加载

### 性能要求
1. 浏览对话框打开时间 < 2秒
2. 路径验证响应时间 < 1秒
3. 设置保存时间 < 3秒
4. UI操作流畅无卡顿

### 用户体验要求
1. 操作反馈及时明确
2. 错误提示友好易懂
3. 界面布局合理美观
4. 功能易于发现和使用

---

**注意**: 如果发现任何问题，请详细记录复现步骤和错误信息，以便进一步修复。
